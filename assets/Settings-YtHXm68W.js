import{d as h,e as p,q as x,_ as i,r as o,j as e,I as c}from"./index-HCKIR5Z2.js";function j(){const s=h(),{mutate:a,isPending:t}=p({mutationFn:r=>x(r),onSuccess:()=>{i.success("User updated succesfully",{className:"toast"}),s.invalidateQueries({queryKey:["user"]})},onError:r=>i.error(r.message,{className:"toast"})});return{isPending:t,updateCurrentUser:a}}function g(s,a){if(!s||!a)return"Please select an avatar and fill the username"}function N(s,a){const t=g(s,a);return t?(i.error(t,{className:"toast"}),!0):!1}function U(){const[s,a]=o.useState(""),[t,r]=o.useState(null),{updateCurrentUser:d}=j(),m={username:s,profilePicture:t};function f(n){var l;const u=(l=n.target.files)==null?void 0:l[0];r(u||null)}async function v(n){n.preventDefault(),N(t,s)||d(m)}return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"user-data-h2",children:"Update your account"}),e.jsx("div",{className:"user-data",children:e.jsxs("form",{onSubmit:v,className:"form-user",children:[e.jsx(c,{id:"username",value:s,onChange:n=>a(n.target.value)}),e.jsx(c,{id:"file",type:"file",value:t,onChange:f}),e.jsx("div",{className:"form-btn",children:e.jsx("button",{className:"btn btn-form",children:"Submit"})})]})})]})}function b(){return e.jsx("div",{className:"main-page",children:e.jsx("div",{className:"grid-settings",children:e.jsx(U,{})})})}export{b as default};
